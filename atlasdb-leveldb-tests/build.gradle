apply from: "../gradle/shared.gradle"

// disable tests if building on Travis (Travis CI kills test processes due to load)
[test, check].each { it.onlyIf { !System.getenv().containsKey('CI') } }

dependencies {
  compile(project(":atlasdb-leveldb"))
  compile project(path: ":atlasdb-tests-shared", configuration: 'test')
}

configurations.matching({ it.name in ['compile', 'runtime'] }).all {
    resolutionStrategy {
        force 'org.fusesource.leveldbjni:leveldbjni:1.7'
    }
}
